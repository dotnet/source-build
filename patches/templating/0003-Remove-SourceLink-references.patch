From 97709da8f538d56e4aa11c82f0a58b1994d56952 Mon Sep 17 00:00:00 2001
From: dseefeld <dseefeld@microsoft.com>
Date: Wed, 10 Apr 2019 11:05:29 +0000
Subject: [PATCH] Remove SourceLink references

---
 Directory.Build.targets                                            | 7 +------
 .../Microsoft.TemplateEngine.Abstractions.csproj                   | 4 ----
 .../Microsoft.TemplateEngine.Cli.csproj                            | 2 --
 .../Microsoft.TemplateEngine.Core.Contracts.csproj                 | 4 ----
 .../Microsoft.TemplateEngine.Core.csproj                           | 4 ----
 .../Microsoft.TemplateEngine.Edge.csproj                           | 2 --
 .../Microsoft.TemplateEngine.IDE.csproj                            | 6 +-----
 .../Microsoft.TemplateEngine.Orchestrator.RunnableProjects.csproj  | 2 --
 .../Microsoft.TemplateEngine.Utils.csproj                          | 4 ----
 .../Microsoft.TemplateEngine.VisualStudioWizard.csproj             | 4 +---
 src/dotnet-new3/dotnet-new3.csproj                                 | 2 --
 .../Microsoft.TemplateEngine.Mocks.csproj                          | 4 ----
 12 files changed, 3 insertions(+), 42 deletions(-)

diff --git a/Directory.Build.targets b/Directory.Build.targets
index bd029b3..8ea8c48 100644
--- a/Directory.Build.targets
+++ b/Directory.Build.targets
@@ -12,19 +12,14 @@
         <PackageReference Update="Microsoft.Extensions.CommandLineUtils" Version="1.1.0" />
         <PackageReference Update="Microsoft.NET.Test.Sdk" Version="15.8.0" />
         <PackageReference Update="Newtonsoft.Json" Version="10.0.3" />
-        <PackageReference Update="SourceLink.Create.CommandLine" Version="2.8.0" PrivateAssets="All" />
         <PackageReference Update="xunit" Version="2.3.1" />
         <PackageReference Update="xunit.runner.visualstudio" Version="2.3.1" />
     </ItemGroup>
 
-    <ItemGroup>
-        <DotNetCliToolReference Update="dotnet-sourcelink" Version="2.8.0" />
-    </ItemGroup>
-
     <ItemGroup Condition="'$(TestProject)' == 'true'">
         <Service Include="{82a7f48d-3b50-4b1e-b82e-3ada8210c358}" />
     </ItemGroup>
     
   <!-- Leave this file here, even if it's empty. It stops chaining imports. -->
   <Import Project="Sdk.targets" Sdk="Microsoft.DotNet.Arcade.Sdk" />
-</Project>
\ No newline at end of file
+</Project>
diff --git a/src/Microsoft.TemplateEngine.Abstractions/Microsoft.TemplateEngine.Abstractions.csproj b/src/Microsoft.TemplateEngine.Abstractions/Microsoft.TemplateEngine.Abstractions.csproj
index 7ba98ed..52d17af 100644
--- a/src/Microsoft.TemplateEngine.Abstractions/Microsoft.TemplateEngine.Abstractions.csproj
+++ b/src/Microsoft.TemplateEngine.Abstractions/Microsoft.TemplateEngine.Abstractions.csproj
@@ -6,8 +6,4 @@
         <IsPackable>true</IsPackable>
     </PropertyGroup>
 
-    <ItemGroup>
-        <PackageReference Include="SourceLink.Create.CommandLine" />
-        <DotNetCliToolReference Include="dotnet-sourcelink" />
-    </ItemGroup>
 </Project>
diff --git a/src/Microsoft.TemplateEngine.Cli/Microsoft.TemplateEngine.Cli.csproj b/src/Microsoft.TemplateEngine.Cli/Microsoft.TemplateEngine.Cli.csproj
index 12f5c5e..8d11eb7 100644
--- a/src/Microsoft.TemplateEngine.Cli/Microsoft.TemplateEngine.Cli.csproj
+++ b/src/Microsoft.TemplateEngine.Cli/Microsoft.TemplateEngine.Cli.csproj
@@ -19,8 +19,6 @@
         <PackageReference Include="Microsoft.DotNet.Cli.CommandLine" />
         <PackageReference Include="System.Diagnostics.Process" />
         <PackageReference Include="Newtonsoft.Json" />
-        <PackageReference Include="SourceLink.Create.CommandLine" />
-        <DotNetCliToolReference Include="dotnet-sourcelink" />
     </ItemGroup>
 
     <ItemGroup>
diff --git a/src/Microsoft.TemplateEngine.Core.Contracts/Microsoft.TemplateEngine.Core.Contracts.csproj b/src/Microsoft.TemplateEngine.Core.Contracts/Microsoft.TemplateEngine.Core.Contracts.csproj
index 3753d89..8542f5f 100644
--- a/src/Microsoft.TemplateEngine.Core.Contracts/Microsoft.TemplateEngine.Core.Contracts.csproj
+++ b/src/Microsoft.TemplateEngine.Core.Contracts/Microsoft.TemplateEngine.Core.Contracts.csproj
@@ -10,8 +10,4 @@
         <ProjectReference Include="$(SrcDir)Microsoft.TemplateEngine.Abstractions\Microsoft.TemplateEngine.Abstractions.csproj" />
     </ItemGroup>
 
-    <ItemGroup>
-        <PackageReference Include="SourceLink.Create.CommandLine" />
-        <DotNetCliToolReference Include="dotnet-sourcelink" />
-    </ItemGroup>
 </Project>
diff --git a/src/Microsoft.TemplateEngine.Core/Microsoft.TemplateEngine.Core.csproj b/src/Microsoft.TemplateEngine.Core/Microsoft.TemplateEngine.Core.csproj
index b49bf74..60dd80f 100644
--- a/src/Microsoft.TemplateEngine.Core/Microsoft.TemplateEngine.Core.csproj
+++ b/src/Microsoft.TemplateEngine.Core/Microsoft.TemplateEngine.Core.csproj
@@ -12,8 +12,4 @@
         <ProjectReference Include="$(SrcDir)Microsoft.TemplateEngine.Utils\Microsoft.TemplateEngine.Utils.csproj" />
     </ItemGroup>
 
-    <ItemGroup>
-        <PackageReference Include="SourceLink.Create.CommandLine" />
-        <DotNetCliToolReference Include="dotnet-sourcelink" />
-    </ItemGroup>
 </Project>
diff --git a/src/Microsoft.TemplateEngine.Edge/Microsoft.TemplateEngine.Edge.csproj b/src/Microsoft.TemplateEngine.Edge/Microsoft.TemplateEngine.Edge.csproj
index 066e075..517da56 100644
--- a/src/Microsoft.TemplateEngine.Edge/Microsoft.TemplateEngine.Edge.csproj
+++ b/src/Microsoft.TemplateEngine.Edge/Microsoft.TemplateEngine.Edge.csproj
@@ -17,9 +17,7 @@
 
     <ItemGroup>
         <PackageReference Include="System.IO.Compression" />
-        <PackageReference Include="SourceLink.Create.CommandLine" />
         <PackageReference Include="Newtonsoft.Json" />
         <PackageReference Include="System.Runtime.Loader" Condition="'$(TargetFramework)' != 'net45'"/>
-        <DotNetCliToolReference Include="dotnet-sourcelink" />
     </ItemGroup>
 </Project>
diff --git a/src/Microsoft.TemplateEngine.IDE/Microsoft.TemplateEngine.IDE.csproj b/src/Microsoft.TemplateEngine.IDE/Microsoft.TemplateEngine.IDE.csproj
index 1fc96f7..76b66ab 100644
--- a/src/Microsoft.TemplateEngine.IDE/Microsoft.TemplateEngine.IDE.csproj
+++ b/src/Microsoft.TemplateEngine.IDE/Microsoft.TemplateEngine.IDE.csproj
@@ -12,8 +12,4 @@
         <ProjectReference Include="$(SrcDir)Microsoft.TemplateEngine.Utils\Microsoft.TemplateEngine.Utils.csproj" />
     </ItemGroup>
 
-    <ItemGroup>
-        <PackageReference Include="SourceLink.Create.CommandLine" />
-        <DotNetCliToolReference Include="dotnet-sourcelink" />
-    </ItemGroup>
-</Project>
\ No newline at end of file
+</Project>
diff --git a/src/Microsoft.TemplateEngine.Orchestrator.RunnableProjects/Microsoft.TemplateEngine.Orchestrator.RunnableProjects.csproj b/src/Microsoft.TemplateEngine.Orchestrator.RunnableProjects/Microsoft.TemplateEngine.Orchestrator.RunnableProjects.csproj
index f473fbd..30d0821 100644
--- a/src/Microsoft.TemplateEngine.Orchestrator.RunnableProjects/Microsoft.TemplateEngine.Orchestrator.RunnableProjects.csproj
+++ b/src/Microsoft.TemplateEngine.Orchestrator.RunnableProjects/Microsoft.TemplateEngine.Orchestrator.RunnableProjects.csproj
@@ -18,9 +18,7 @@
     </ItemGroup>
 
     <ItemGroup>
-        <PackageReference Include="SourceLink.Create.CommandLine" />
         <PackageReference Include="Newtonsoft.Json" />
-        <DotNetCliToolReference Include="dotnet-sourcelink" />
     </ItemGroup>
 
     <ItemGroup>
diff --git a/src/Microsoft.TemplateEngine.Utils/Microsoft.TemplateEngine.Utils.csproj b/src/Microsoft.TemplateEngine.Utils/Microsoft.TemplateEngine.Utils.csproj
index 4b7a07f..bd858be 100644
--- a/src/Microsoft.TemplateEngine.Utils/Microsoft.TemplateEngine.Utils.csproj
+++ b/src/Microsoft.TemplateEngine.Utils/Microsoft.TemplateEngine.Utils.csproj
@@ -10,8 +10,4 @@
         <ProjectReference Include="$(SrcDir)Microsoft.TemplateEngine.Abstractions\Microsoft.TemplateEngine.Abstractions.csproj" />
     </ItemGroup>
 
-    <ItemGroup>
-        <PackageReference Include="SourceLink.Create.CommandLine" />
-        <DotNetCliToolReference Include="dotnet-sourcelink" />
-    </ItemGroup>
 </Project>
diff --git a/src/Microsoft.TemplateEngine.VisualStudioWizard/Microsoft.TemplateEngine.VisualStudioWizard.csproj b/src/Microsoft.TemplateEngine.VisualStudioWizard/Microsoft.TemplateEngine.VisualStudioWizard.csproj
index 01a7d8c..616b58f 100644
--- a/src/Microsoft.TemplateEngine.VisualStudioWizard/Microsoft.TemplateEngine.VisualStudioWizard.csproj
+++ b/src/Microsoft.TemplateEngine.VisualStudioWizard/Microsoft.TemplateEngine.VisualStudioWizard.csproj
@@ -7,8 +7,6 @@
         <PackageReference Include="EnvDTE" Version="8.0.1" />
         <PackageReference Include="Microsoft.VisualStudio.Shell.15.0" Version="15.0.26201" />
         <PackageReference Include="Microsoft.VisualStudio.Shell.Interop" Version="7.10.6071" />
-        <PackageReference Include="SourceLink.Create.CommandLine" />
-        <DotNetCliToolReference Include="dotnet-sourcelink" />
     </ItemGroup>
 
     <ItemGroup>
@@ -26,4 +24,4 @@
             <HintPath>$(DevenvDir)\PublicAssemblies\Microsoft.VisualStudio.TemplateWizardInterface.dll</HintPath>
         </Reference>
     </ItemGroup>
-</Project>
\ No newline at end of file
+</Project>
diff --git a/src/dotnet-new3/dotnet-new3.csproj b/src/dotnet-new3/dotnet-new3.csproj
index 74e6f41..9c92c85 100644
--- a/src/dotnet-new3/dotnet-new3.csproj
+++ b/src/dotnet-new3/dotnet-new3.csproj
@@ -15,8 +15,6 @@
         <PackageReference Include="System.Diagnostics.Process" />
         <PackageReference Include="Microsoft.Extensions.CommandLineUtils" />
         <PackageReference Include="Newtonsoft.Json" />
-        <PackageReference Include="SourceLink.Create.CommandLine" />
-        <DotNetCliToolReference Include="dotnet-sourcelink" />
     </ItemGroup>
 
     <ItemGroup>
diff --git a/test/Microsoft.TemplateEngine.Mocks/Microsoft.TemplateEngine.Mocks.csproj b/test/Microsoft.TemplateEngine.Mocks/Microsoft.TemplateEngine.Mocks.csproj
index ec99afb..97403fa 100644
--- a/test/Microsoft.TemplateEngine.Mocks/Microsoft.TemplateEngine.Mocks.csproj
+++ b/test/Microsoft.TemplateEngine.Mocks/Microsoft.TemplateEngine.Mocks.csproj
@@ -13,8 +13,4 @@
         <ProjectReference Include="$(SrcDir)Microsoft.TemplateEngine.Utils\Microsoft.TemplateEngine.Utils.csproj" />
     </ItemGroup>
 
-    <ItemGroup>
-        <PackageReference Include="SourceLink.Create.CommandLine" />
-        <DotNetCliToolReference Include="dotnet-sourcelink" />
-    </ItemGroup>
 </Project>
-- 
1.8.3.1

