From 2b5e1784bdd399e5c1112935546757f1b0542326 Mon Sep 17 00:00:00 2001
From: Aditya Aggarwal <aditya.aggarwal@microsoft.com>
Date: Fri, 27 Mar 2020 19:18:42 +0000
Subject: [PATCH 2/2] clang9 resolution to conditionally include allocator
 header file

Issue link: https://github.com/dotnet/source-build/issues/1449
---
 src/pal/inc/rt/specstrings.h | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/pal/inc/rt/specstrings.h b/src/pal/inc/rt/specstrings.h
index 214d4190de..93289c87f7 100644
--- a/src/pal/inc/rt/specstrings.h
+++ b/src/pal/inc/rt/specstrings.h
@@ -310,8 +310,8 @@ __ANNOTATION(SAL_failureDefault(enum __SAL_failureKind));
 				            __byte_readableTo((expr) ? (size) : (size) * 2)
 #define __post_invalid                      _Post_ __notvalid
 /* integer related macros */
-#define __allocator                         __inner_allocator
 #ifndef PAL_STDCPP_COMPAT
+#define __allocator                         __inner_allocator
 #define __deallocate(kind)                  _Pre_ __notnull __post_invalid
 #define __deallocate_opt(kind)              _Pre_ __maybenull __post_invalid
 #endif
-- 
2.21.0

