From ebbb04befc71870f8f19c034fd25e54f28f2cae3 Mon Sep 17 00:00:00 2001
From: dseefeld <dseefeld@microsoft.com>
Date: Wed, 25 Mar 2020 15:22:44 +0000
Subject: [PATCH] Temporarily default nopgooptimize in build scripts until
 https://github.com/dotnet/runtime/issues/34069 is fixed.

---
 src/coreclr/build-runtime.sh | 4 ++--
 src/coreclr/build.sh         | 4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/src/coreclr/build-runtime.sh b/src/coreclr/build-runtime.sh
index 0ac62ff..8e6dad4 100755
--- a/src/coreclr/build-runtime.sh
+++ b/src/coreclr/build-runtime.sh
@@ -158,7 +158,7 @@ __CrossBuild=0
 __DistroRid=""
 __PgoInstrument=0
 __PgoOptDataPath=""
-__PgoOptimize=1
+__PgoOptimize=0
 __PortableBuild=1
 __ProjectDir="$__ProjectRoot"
 __RootBinDir="$__RepoRootDir/artifacts"
@@ -169,7 +169,7 @@ __SkipCrossArchNative=0
 __SkipGenerateVersion=0
 __SkipManaged=0
 __SkipRestore=""
-__SkipRestoreOptData=0
+__SkipRestoreOptData=1
 __SourceDir="$__ProjectDir/src"
 __StaticAnalyzer=0
 __UnprocessedBuildArgs=
diff --git a/src/coreclr/build.sh b/src/coreclr/build.sh
index 5a6fa32..406b9a7 100755
--- a/src/coreclr/build.sh
+++ b/src/coreclr/build.sh
@@ -429,7 +429,7 @@ __OfficialBuildIdArg=""
 __PartialNgen=0
 __PgoInstrument=0
 __PgoOptDataPath=""
-__PgoOptimize=1
+__PgoOptimize=0
 __PortableBuild=1
 __ProjectDir="$__ProjectRoot"
 __RootBinDir="$__RepoRootDir/artifacts"
@@ -444,7 +444,7 @@ __SkipManaged=0
 __SkipNuget=0
 __SkipRestore=""
 __SkipRestoreArg="/p:RestoreDuringBuild=true"
-__SkipRestoreOptData=0
+__SkipRestoreOptData=1
 __SourceDir="$__ProjectDir/src"
 __StaticAnalyzer=0
 __UnprocessedBuildArgs=
-- 
1.8.3.1

