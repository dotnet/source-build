From d6f6922c24e205a53bc5f2420695a4a177648808 Mon Sep 17 00:00:00 2001
From: Davis Goodin <dagood@microsoft.com>
Date: Wed, 13 Jun 2018 09:46:43 -0500
Subject: [PATCH] Persist ASP.NET runtime patch targeting default

Let the CLI build take a default value for TargetLatestAspNetCoreRuntimePatch in the output SDK.

https://github.com/dotnet/cli/issues/9469 is required to remove this patch.
---
 build/MSBuildExtensions.targets | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/build/MSBuildExtensions.targets b/build/MSBuildExtensions.targets
index 9e0aa5db4..89c8503e1 100644
--- a/build/MSBuildExtensions.targets
+++ b/build/MSBuildExtensions.targets
@@ -197,6 +197,9 @@ Copyright (c) .NET Foundation. All rights reserved.
     <LatestPatchVersionForNetCore1_1 Condition="'%24(LatestPatchVersionForNetCore1_1)' == ''">1.1.9</LatestPatchVersionForNetCore1_1>
     <LatestPatchVersionForNetCore2_0 Condition="'%24(LatestPatchVersionForNetCore2_0)' == ''">2.0.9</LatestPatchVersionForNetCore2_0>
     <LatestPatchVersionForNetCore2_1 Condition="'%24(LatestPatchVersionForNetCore2_1)' == ''">2.1.2</LatestPatchVersionForNetCore2_1>
+
+    <!-- If true, always target the latest ASP.NET Core runtime by default -->
+    <TargetLatestAspNetCoreRuntimePatch Condition="'$(TargetLatestAspNetCoreRuntimePatch)' == ''">$(DefaultTargetLatestAspNetCoreRuntimePatch)</TargetLatestAspNetCoreRuntimePatch>
   </PropertyGroup>
 </Project>
 ]]>
-- 
2.17.1.windows.2

