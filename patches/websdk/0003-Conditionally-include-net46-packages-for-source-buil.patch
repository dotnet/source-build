From 6a91202d6b0bb460edcf024baa9b2153c709b3a7 Mon Sep 17 00:00:00 2001
From: dseefeld <dseefeld@microsoft.com>
Date: Mon, 2 Apr 2018 21:55:22 +0000
Subject: [PATCH] Conditionally include net46 packages for source-build

---
 pack/Microsoft.NET.Sdk.Publish/Microsoft.NET.Sdk.Publish.csproj | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/pack/Microsoft.NET.Sdk.Publish/Microsoft.NET.Sdk.Publish.csproj b/pack/Microsoft.NET.Sdk.Publish/Microsoft.NET.Sdk.Publish.csproj
index 2b66300..4a8bd2a 100644
--- a/pack/Microsoft.NET.Sdk.Publish/Microsoft.NET.Sdk.Publish.csproj
+++ b/pack/Microsoft.NET.Sdk.Publish/Microsoft.NET.Sdk.Publish.csproj
@@ -17,13 +17,13 @@
 
   <ItemGroup>
     <!-- Publish task assembly -->
-    <Content Include="$(WebSdkRoot)\bin\$(Configuration)\net46\$(RuntimeIdenfier)\Microsoft.NET.Sdk.Publish.Tasks.dll">
+    <Content Include="$(WebSdkRoot)\bin\$(Configuration)\net46\$(RuntimeIdenfier)\Microsoft.NET.Sdk.Publish.Tasks.dll" Condition=" '$(DotNetBuildFromSource)' != 'true' ">
       <Pack>true</Pack>
       <PackagePath>tools\net46</PackagePath>
     </Content>
 
     <!-- WebDeploy assemblies should be already signed.-->
-    <Content Include="$(WebSdkBuild)\WebDeploy\**\*.*">
+    <Content Include="$(WebSdkBuild)\WebDeploy\**\*.*" Condition=" '$(DotNetBuildFromSource)' != 'true' ">
       <Pack>true</Pack>
       <PackagePath>tools\net46\%(RecursiveDir)%(Filename)%(Extension)</PackagePath>
     </Content>
@@ -84,4 +84,4 @@
     </Content>
   </ItemGroup>
 
-</Project>
\ No newline at end of file
+</Project>
-- 
1.8.3.1

