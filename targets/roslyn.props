<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="15.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <PropertyGroup>
    <ProjectDirectory Condition="'$(PathToRepo)' != ''">$(PathToRepo)</ProjectDirectory>
    <BuildCommand>$(ProjectDirectory)/cibuild.cmd /$(Configuration) /skipTest /skipCommitPrinting</BuildCommand>
    <BuildCommand Condition="'$(OS)' != 'Windows_NT'">$(ProjectDirectory)/cibuild.sh --$(Configuration) --SkipTests --SkipCrossGen --SkipCommitPrinting</BuildCommand>

    <CsiCoreBaseDirectory>$(ProjectDirectory)Binaries/$(Configuration)/Exes/</CsiCoreBaseDirectory> 
    <CsiCoreWorkingDirectory>$(CsiCoreBaseDirectory)CsiCore/</CsiCoreWorkingDirectory> 
    <CsiCoreWorkingDirectory Condition="'$(_IsBootstrapping)' == 'true'">$(CsiCoreBaseDirectory)CsiCore_working/</CsiCoreWorkingDirectory> 
    <BuildPackagesCommand>$(CsiCoreWorkingDirectory)corerun $(CsiCoreWorkingDirectory)csi.exe src/NuGet/BuildNuGets.csx $(ProjectDirectory)/Binaries/$(Configuration) 42-localbuild $(ProjectDirectory)/Binaries/packages</BuildPackagesCommand>
    <PackagesOutput>$(ProjectDirectory)/Binaries/packages</PackagesOutput>
  </PropertyGroup>
  <PropertyGroup>
    <BuildCommand Condition="'$(BootstrapBuildToolsDir)' != ''">$(BuildCommand) --bootstrap_cli_path $(BootstrapBuildToolsDir)/dotnetcli/</BuildCommand>
    <BuildCommand Condition="'$(BootstrapMsbuildCliDir)' != ''">$(BuildCommand) --bootstrap_msbuild_cli_path $(BootstrapMsbuildCliDir)</BuildCommand>
  </PropertyGroup>

  <ItemGroup>
    <Source Include="$(ProjectDirectory)/src/**/*.*" />
  </ItemGroup>

</Project>